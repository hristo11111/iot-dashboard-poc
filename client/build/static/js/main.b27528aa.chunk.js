(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{143:function(e,t,i){},174:function(e,t,i){},175:function(e,t,i){},176:function(e,t,i){},177:function(e,t,i){},178:function(e,t,i){},179:function(e,t,i){"use strict";i.r(t);var n,c=i(0),o=i(14),u=i.n(o),d=(i(143),i(49)),h=i.n(d),v=i(70),a=i(25),b=i(213),l=i(21),r=i(96),s=i(210),m=i(215),y=i(203),p=i(221),_=i(219),j=i(4),M=function(e){var t=e.device,i=e.onDeviceSelect;return Object(j.jsxs)(y.a,{children:[Object(j.jsx)(_.a,{id:"device-select-label",children:"Device"}),Object(j.jsxs)(m.a,{labelId:"device-select-label",id:"demo-simple-select",value:t,onChange:i,children:[Object(j.jsx)(p.a,{value:"MyPythonDevice",children:"My Python Device 1"}),Object(j.jsx)(p.a,{value:"MyPythonDevice2",children:"My Python Device 2"})]})]})},D=(i(174),i(211)),P=(i(175),function(e){var t=e.title,i=e.className,n=e.children;return Object(j.jsx)(s.a,{elevation:3,children:Object(j.jsxs)("div",{className:"tile-wrapper ".concat(i),children:[Object(j.jsx)("div",{className:"title",children:t}),Object(j.jsx)("div",{className:"tile-content",children:n})]})})}),q=i(117),O=function(e){var t=e.option,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=q.a(i.current);return e.setOption(t),window.addEventListener("resize",(function(){return e.resize()})),window.removeEventListener("resize",(function(){return e.resize()}))}),[t]),Object(j.jsx)("div",{ref:i,style:{height:"100%",width:"100%"}})},f={xAxis:{type:"category",data:["CV Left 1","CV Left 2","CV Right 1","CV Right 2","Oil"],axisLabel:{interval:0,rotate:30}},yAxis:{type:"value"},series:[{data:[120,200,150,80,70],type:"bar",itemStyle:{normal:{barBorderRadius:[5,5,0,0]}}}]},x=function(e){var t=e.deviceId,i=e.pressure,n=e.strokeRate1,c={series:[{type:"gauge",startAngle:90,endAngle:-270,max:160,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:15}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!0},axisLabel:{show:!1,distance:40},data:[{value:i,name:"Output pressure",title:{offsetCenter:["0%","-25%"]},detail:{offsetCenter:["0%","10%"]}}],title:{fontSize:14},detail:{width:50,height:24,fontSize:14,color:"auto",borderColor:"auto",borderRadius:20,borderWidth:1,formatter:"{value}"}}]},o={series:[{type:"gauge",startAngle:90,endAngle:-270,min:20,max:60,pointer:{show:!0},progress:{show:!0,overlap:!1,roundCap:!1,clip:!1},axisLine:{lineStyle:{width:5}},axisTick:{show:!1},splitLine:{length:5,lineStyle:{width:2,color:"#999"}},axisLabel:{distance:-45,color:"#999",fontSize:12,formatter:function(e){return 20===e?"":e+"\xb0"}},data:[{value:n,name:"Stroke rate 1",title:{offsetCenter:["0%","-145%"]},detail:{offsetCenter:["0%","35%"]}}],title:{fontSize:14},detail:{width:50,height:24,fontSize:14,color:"auto",borderColor:"auto",borderRadius:20,borderWidth:1,formatter:"{value}"}}]};return Object(j.jsx)(P,{title:"Waterjet readings: ".concat(t),children:Object(j.jsxs)("div",{className:"latest-values-tile",children:[Object(j.jsx)("div",{className:"pressure-gauge",style:{width:"25%",height:350},children:-1===i?Object(j.jsx)(D.a,{variant:"rect",height:"80%",width:"100%"}):Object(j.jsx)(O,{option:c})}),Object(j.jsx)("div",{className:"temperature-bar-chart",style:{width:"50%",height:350},children:Object(j.jsx)(O,{option:f})}),Object(j.jsx)("div",{className:"stroke-rate-gauge",style:{width:"25%",height:350},children:-1===n?Object(j.jsx)(D.a,{variant:"rect",height:"80%",width:"100%"}):Object(j.jsx)(O,{option:o})})]})})},g=(i(176),function(e){var t=e.pumpHours,i=e.lastReportTime,n=e.isLoading;return Object(j.jsxs)("div",{className:"details-wrapper",children:[Object(j.jsx)(P,{title:"Current Pump Hours",children:t}),Object(j.jsx)(P,{title:"Status",className:"status-tile",children:"Running"}),Object(j.jsx)(P,{title:"Last Report Time",children:n?Object(j.jsx)(D.a,{}):i})]})}),w=i(212),k=function(e){var t=e.kpi,i=e.onKPISelect;return Object(j.jsxs)(y.a,{children:[Object(j.jsx)(_.a,{id:"kpi-select-label",children:"KPI"}),Object(j.jsxs)(m.a,{labelId:"kpi-select-label",value:t,onChange:i,children:[Object(j.jsx)(p.a,{value:"pump_hour",children:"Pump Hours"}),Object(j.jsx)(p.a,{value:"pump_minute",children:"Pump Minute"}),Object(j.jsx)(p.a,{value:"stroke_count_1",children:"Stroke count 1"})]})]})},S=i(218);i(177);n=[{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:137},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:121},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:134},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:124},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:120},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:131},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:121},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:122},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:125},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:125},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:136},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:125},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:136},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:128},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:131},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:134},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:133},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:137},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:128},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:122},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:120},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:120},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:127},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:135},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:130},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:123},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:131},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:124},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:121},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:126},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:124},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:133},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:128},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:137},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:126},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:137},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:124},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:123},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:130},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:131},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:130},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:121},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:126},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:136},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:135},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:121},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:128},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:125},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:130},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:120},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:123},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:120},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:124},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:124},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:131},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:126},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:122},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:135},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:123},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:126},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:125},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:126},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:127},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:122},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-10",cv_1l_temp:140},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:125},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:138},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:135},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:128},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:129},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:130},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:137},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:131},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:132},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:136},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:999},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:129},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:139},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:139},{"iothub-connection-device-id":"MyPythonDevice","iothub-enqueuedtime":"2021-01-11",cv_1l_temp:132}];var C=function(e){var t=e.deviceId,i=Object(c.useState)("pump_hour"),o=Object(a.a)(i,2),u=o[0],d=o[1],h=Object(c.useState)(n),v=Object(a.a)(h,2),l=v[0],r=v[1],s=Object(c.useState)(Object(S.a)(new Date,10)),m=Object(a.a)(s,2),y=m[0],p=m[1],_=Object(c.useState)(new Date),M=Object(a.a)(_,2),q=M[0],f=M[1],x=Object(c.useState)(!1),g=Object(a.a)(x,2),C=g[0],N=g[1];Object(c.useEffect)((function(){var e=Object(b.a)(y,"ddMMy"),t=Object(b.a)(q,"ddMMy");N(!0),fetch("https://gettelemetrydatadocker.azurewebsites.net/api/GetData?deviceId=MyPythonDevice&function=GetHistoricalValue&kpi=".concat(u,"&datefrom=").concat(e,"&dateto=").concat(t),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){N(!1),r(e&&e[0]?e[0].values:[])}))}),[y,q,u]);var I={xAxis:{type:"category",data:l&&l.map((function(e){return Object(b.a)(new Date(e["iothub-enqueuedtime"]),"dd/MM/y HH:mm:ss").replace(" ","\n")})),axisLabel:{interval:32,width:"10"}},yAxis:{type:"value"},series:[{data:l&&l.map((function(e){return e[u]})),type:"line"}]};return Object(j.jsxs)(P,{title:"KPIs Historical Data: ".concat(t),className:"kpis-line-chart",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(k,{onKPISelect:function(e){d(e.target.value),r(n[e.target.value])},kpi:u}),Object(j.jsx)(w.a,{autoOk:!0,variant:"inline",label:"Select from date",format:"dd/MM/yyyy",value:y,InputAdornmentProps:{position:"start"},onChange:p,className:"line-chart-date-picker"}),Object(j.jsx)(w.a,{autoOk:!0,variant:"inline",label:"Select to date",format:"dd/MM/yyyy",value:q,InputAdornmentProps:{position:"start"},onChange:f,className:"line-chart-date-picker"})]}),Object(j.jsx)("div",{className:"chart",style:{width:"100%",height:300},children:C?Object(j.jsx)(D.a,{variant:"rect",height:"80%",width:"100%"}):l&&0!==l.length?Object(j.jsx)(O,{option:I}):"No data"})]})};i(178);var N=function(){var e=Object(c.useState)("MyPythonDevice"),t=Object(a.a)(e,2),i=t[0],n=t[1],o=Object(c.useState)(-1),u=Object(a.a)(o,2),d=u[0],m=u[1],y=Object(c.useState)(-1),p=Object(a.a)(y,2),_=p[0],D=p[1],P=Object(c.useState)(!0),q=Object(a.a)(P,2),O=q[0],f=q[1],w=function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gettelemetrydatadocker.azurewebsites.net/api/GetData?deviceId=MyPythonDevice&function=GetCurrentValue&kpi=pressure",{headers:{"Content-Type":"application/json"}});case 2:e.sent.json().then((function(e){m(e.pressure)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch("https://gettelemetrydatadocker.azurewebsites.net/api/GetData?deviceId=MyPythonDevice&function=GetCurrentValue&kpi=stroke_rate_1",{headers:{"Content-Type":"application/json"}});case 3:e.sent.json().then((function(e){D(e.stroke_rate_1),f(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){setInterval((function(){w(),k()}),2e4),w(),k()}),[]),Object(j.jsx)(l.a,{utils:r.a,children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)("div",{className:"choose-device",children:Object(j.jsx)(M,{device:i,onDeviceSelect:function(e){n(e.target.value)}})}),Object(j.jsx)(s.a,{children:Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)(C,{deviceId:i}),Object(j.jsx)(x,{deviceId:i,pressure:d,strokeRate1:_})]}),Object(j.jsx)("div",{className:"right",children:Object(j.jsx)(g,{pumpHours:3313,lastReportTime:Object(b.a)(new Date,"dd-MM-yyyy, HH:mm:ss"),isLoading:O})})]})})]})})})},I=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,224)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,u=t.getTTFB;i(e),n(e),c(e),o(e),u(e)}))};u.a.render(Object(j.jsx)(N,{}),document.getElementById("root")),I()}},[[179,1,2]]]);
//# sourceMappingURL=main.b27528aa.chunk.js.map